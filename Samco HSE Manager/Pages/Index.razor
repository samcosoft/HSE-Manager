@page "/"
@inject IConfiguration Configuration
@inject NavigationManager NavigationManager
<PageTitle>Samco HSE Management System - @Configuration["CompanyInfo:Name"]</PageTitle>

<div class="container-fluid">
    <AuthorizeView>
        <Authorized>
            <MudCard Class="animate__animated animate__fadeIn animate__slow mb-3">
                <MudCardContent>
                    <MudText Typo="Typo.h6">@_loggedUser?.PersonnelName عزیز سلام! به پنل مدیریت HSE خوش آمدید!</MudText>
                    <hr class="my-3">
                    <MudAlert Severity="Severity.Info" Icon="fa fa-info" Elevation="3">
                        با توجه به آزمایشی بودن این نسخه، ممکن است برخی ایرادات در آن وجود داشته باشد که به مرور برطرف می‌گردند. از شکیبایی شما سپاسگزاریم.
                        در صورت داشتن سوال در مورد قابلیت‌های سیستم و یا بروز خطا با ایمیل <a href="mailto:info@samcosoft.ir">SamcoSoft Support</a> ارتباط برقرار کنید.
                    </MudAlert>
                </MudCardContent>
            </MudCard>
            <div class="animate__animated animate__fadeInUp">
                <MudCard>
                    <MudCardHeader>
                        <h2 class="mt-2">آمار سیستم</h2>
                    </MudCardHeader>
                    <MudCardContent>
                        <DxDashboard @bind-DashboardId="@_dashboardId" WorkingMode="WorkingMode.ViewerOnly"
                                     Endpoint="api/dashboard" style="width: 100%; height: 800px;"/>
                    </MudCardContent>
                </MudCard>
            </div>
        </Authorized>
        <NotAuthorized>
            <MudCard Class="animate__animated animate__zoomInUp">
                <MudCardContent>
                    <MudText Typo="Typo.h6">همکار عزیز سلام! به پنل مدیریت HSE خوش آمدید!</MudText>
                    <hr class="my-3">
                    <MudText Typo="Typo.body1">لطفاً وارد سیستم شوید.</MudText>
                </MudCardContent>
            </MudCard>
        </NotAuthorized>
    </AuthorizeView>
</div>