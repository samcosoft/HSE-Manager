@attribute [Authorize]
@page "/"
@page "/home"
@inject IConfiguration Configuration
@inject NavigationManager NavigationManager
@inject IStringLocalizer<Resource> L

<PageTitle>Samco HSE Management System - @Configuration["CompanyInfo:Name"]</PageTitle>

<div class="container-fluid">
    <Animation Class="mb-3" Effect="@Effect.FadeIn" Speed="@Speed.Slow">
        <MudCard>
            <MudCardContent>
                <MudText Typo="Typo.h6">@string.Format(L["WelcomeMessage"], _loggedUser?.Username)</MudText>
                <hr class="my-3">
                <MudAlert Severity="Severity.Info" Icon="fa fa-info" Elevation="3" Variant="Variant.Filled">@(new MarkupString(L["TrialMessage"]))</MudAlert>
            </MudCardContent>
        </MudCard>
    </Animation>
    <Animation Effect="@Effect.FadeInUp">
        <MudCard>
            <MudCardHeader>
                <h2 class="mt-2">آمار سیستم</h2>
            </MudCardHeader>
            <MudCardContent>
                <DxDashboard @bind-DashboardId="@_dashboardId" WorkingMode="WorkingMode.ViewerOnly"
                             Endpoint="api/dashboard" style="width: 100%; height: 800px;" />
            </MudCardContent>
        </MudCard>
    </Animation>
</div>